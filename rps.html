<script>


    function playRound(playerSelection, computerSelection) 
    {
        let result = getWinner(playerSelection, computerSelection) 

        if (result == 1)
        {
           return 1;
        }
        else if (result == 2)
        {
            return 2;
        }   
    }

    function game()
    {
        let playerScore = 0;
        let computerScore = 0;
        const gameLength = 5;
        for (let i = 0; i < gameLength; i++)
        {
           outcome = playRound(playerPlay(), computerPlay());
           if (outcome == 1)
           {
               playerScore++;
           }
           else if (outcome == 2)
           {
               computerScore++;
           }

        }
        console.log(`You scored ${playerScore}.`)
        console.log(`Computer scored ${computerScore}.`)

        if (playerScore > computerScore)
        {
            console.log("You won!")
        }
        else if (computerScore > playerScore)
        {
            console.log("You lost!")
        }
        else
        {
            console.log("It was a draw!")
        }

    }

    function computerPlay()
    {
      let weapon = ["rock", "paper", "scissors"]
      let compChoice = weapon[Math.floor(Math.random() * weapon.length)];
      return compChoice; 
      // Code for choosing a random number taken from 
      // https://www.geeksforgeeks.org/how-to-select-a-random-element-from-array-in-javascript/

    }

    function playerPlay()
    {
        playerChoice = prompt ("Enter your move: " )
        playerChoice.toLowerCase()
        return playerChoice;

    }

    function getWinner(player, computer)
    {
        if (player == computer)
        {
            console.log("Draw!")
            return 3;
        }
        else if (player == 'rock')
        {
            if (computer == 'scissors')
            {
                console.log("You won! Rock beats scissors!")
                return 1;
            }
            else 
            {
                console.log("You lost! Paper beats rock!")
                return 2;
            }
        }
        else if (player == 'scissors')
        {
            if (computer == 'paper')
            {
                console.log("You won! scissors beats paper!")
                return 1;
            }
            else 
            {
                console.log("You lost! rock beats scissors!")
                return 2;
            }
        }
        else 
        {
            if (computer == 'rock')
            {
                console.log("You won! paper beats rock!")
                return 1;
            }
            else 
            {
                console.log("You lost! scissors beats paper!")
                return 2;
            }
        }
           
    }

    

</script>